"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/datastore-core";
exports.ids = ["vendor-chunks/datastore-core"];
exports.modules = {

/***/ "(ssr)/./node_modules/datastore-core/dist/src/base.js":
/*!******************************************************!*\
  !*** ./node_modules/datastore-core/dist/src/base.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseDatastore: () => (/* binding */ BaseDatastore)\n/* harmony export */ });\n/* harmony import */ var it_drain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! it-drain */ \"(ssr)/./node_modules/it-drain/dist/src/index.js\");\n/* harmony import */ var it_filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! it-filter */ \"(ssr)/./node_modules/it-filter/dist/src/index.js\");\n/* harmony import */ var it_sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! it-sort */ \"(ssr)/./node_modules/it-sort/dist/src/index.js\");\n/* harmony import */ var it_take__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! it-take */ \"(ssr)/./node_modules/it-take/dist/src/index.js\");\n\n\n\n\nclass BaseDatastore {\n    put(key, val, options) {\n        return Promise.reject(new Error(\".put is not implemented\"));\n    }\n    get(key, options) {\n        return Promise.reject(new Error(\".get is not implemented\"));\n    }\n    has(key, options) {\n        return Promise.reject(new Error(\".has is not implemented\"));\n    }\n    delete(key, options) {\n        return Promise.reject(new Error(\".delete is not implemented\"));\n    }\n    async *putMany(source, options = {}) {\n        for await (const { key, value } of source){\n            await this.put(key, value, options);\n            yield key;\n        }\n    }\n    async *getMany(source, options = {}) {\n        for await (const key of source){\n            yield {\n                key,\n                value: await this.get(key, options)\n            };\n        }\n    }\n    async *deleteMany(source, options = {}) {\n        for await (const key of source){\n            await this.delete(key, options);\n            yield key;\n        }\n    }\n    batch() {\n        let puts = [];\n        let dels = [];\n        return {\n            put (key, value) {\n                puts.push({\n                    key,\n                    value\n                });\n            },\n            delete (key) {\n                dels.push(key);\n            },\n            commit: async (options)=>{\n                await (0,it_drain__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.putMany(puts, options));\n                puts = [];\n                await (0,it_drain__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this.deleteMany(dels, options));\n                dels = [];\n            }\n        };\n    }\n    /**\n     * Extending classes should override `query` or implement this method\n     */ // eslint-disable-next-line require-yield\n    async *_all(q, options) {\n        throw new Error(\"._all is not implemented\");\n    }\n    /**\n     * Extending classes should override `queryKeys` or implement this method\n     */ // eslint-disable-next-line require-yield\n    async *_allKeys(q, options) {\n        throw new Error(\"._allKeys is not implemented\");\n    }\n    query(q, options) {\n        let it = this._all(q, options);\n        if (q.prefix != null) {\n            const prefix = q.prefix;\n            it = (0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, (e)=>e.key.toString().startsWith(prefix));\n        }\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f)=>(0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f)=>(0,it_sort__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(it, f), it);\n        }\n        if (q.offset != null) {\n            let i = 0;\n            const offset = q.offset;\n            it = (0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, ()=>i++ >= offset);\n        }\n        if (q.limit != null) {\n            it = (0,it_take__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(it, q.limit);\n        }\n        return it;\n    }\n    queryKeys(q, options) {\n        let it = this._allKeys(q, options);\n        if (q.prefix != null) {\n            const prefix = q.prefix;\n            it = (0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, (key)=>key.toString().startsWith(prefix));\n        }\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f)=>(0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f)=>(0,it_sort__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(it, f), it);\n        }\n        if (q.offset != null) {\n            const offset = q.offset;\n            let i = 0;\n            it = (0,it_filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(it, ()=>i++ >= offset);\n        }\n        if (q.limit != null) {\n            it = (0,it_take__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(it, q.limit);\n        }\n        return it;\n    }\n} //# sourceMappingURL=base.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGF0YXN0b3JlLWNvcmUvZGlzdC9zcmMvYmFzZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE2QjtBQUNFO0FBQ0o7QUFDQTtBQUNwQixNQUFNSTtJQUNUQyxJQUFJQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQ25CLE9BQU9DLFFBQVFDLE1BQU0sQ0FBQyxJQUFJQyxNQUFNO0lBQ3BDO0lBQ0FDLElBQUlOLEdBQUcsRUFBRUUsT0FBTyxFQUFFO1FBQ2QsT0FBT0MsUUFBUUMsTUFBTSxDQUFDLElBQUlDLE1BQU07SUFDcEM7SUFDQUUsSUFBSVAsR0FBRyxFQUFFRSxPQUFPLEVBQUU7UUFDZCxPQUFPQyxRQUFRQyxNQUFNLENBQUMsSUFBSUMsTUFBTTtJQUNwQztJQUNBRyxPQUFPUixHQUFHLEVBQUVFLE9BQU8sRUFBRTtRQUNqQixPQUFPQyxRQUFRQyxNQUFNLENBQUMsSUFBSUMsTUFBTTtJQUNwQztJQUNBLE9BQU9JLFFBQVFDLE1BQU0sRUFBRVIsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUNqQyxXQUFXLE1BQU0sRUFBRUYsR0FBRyxFQUFFVyxLQUFLLEVBQUUsSUFBSUQsT0FBUTtZQUN2QyxNQUFNLElBQUksQ0FBQ1gsR0FBRyxDQUFDQyxLQUFLVyxPQUFPVDtZQUMzQixNQUFNRjtRQUNWO0lBQ0o7SUFDQSxPQUFPWSxRQUFRRixNQUFNLEVBQUVSLFVBQVUsQ0FBQyxDQUFDLEVBQUU7UUFDakMsV0FBVyxNQUFNRixPQUFPVSxPQUFRO1lBQzVCLE1BQU07Z0JBQ0ZWO2dCQUNBVyxPQUFPLE1BQU0sSUFBSSxDQUFDTCxHQUFHLENBQUNOLEtBQUtFO1lBQy9CO1FBQ0o7SUFDSjtJQUNBLE9BQU9XLFdBQVdILE1BQU0sRUFBRVIsVUFBVSxDQUFDLENBQUMsRUFBRTtRQUNwQyxXQUFXLE1BQU1GLE9BQU9VLE9BQVE7WUFDNUIsTUFBTSxJQUFJLENBQUNGLE1BQU0sQ0FBQ1IsS0FBS0U7WUFDdkIsTUFBTUY7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LEVBQUVjLE1BQU0sSUFBSSxNQUFNO1lBQ2xCLE1BQU1BLFNBQVNkLEVBQUVjLE1BQU07WUFDdkIsSUFBSUMsSUFBSTtZQUNSWixLQUFLNUIscURBQU1BLENBQUM0QixJQUFJLElBQU1ZLE9BQU9EO1FBQ2pDO1FBQ0EsSUFBSWQsRUFBRWdCLEtBQUssSUFBSSxNQUFNO1lBQ2pCYixLQUFLMUIsbURBQUlBLENBQUMwQixJQUFJSCxFQUFFZ0IsS0FBSztRQUN6QjtRQUNBLE9BQU9iO0lBQ1g7QUFDSixFQUNBLGdDQUFnQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZsdXNoLW5vdGVzLy4vbm9kZV9tb2R1bGVzL2RhdGFzdG9yZS1jb3JlL2Rpc3Qvc3JjL2Jhc2UuanM/NWY5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZHJhaW4gZnJvbSAnaXQtZHJhaW4nO1xuaW1wb3J0IGZpbHRlciBmcm9tICdpdC1maWx0ZXInO1xuaW1wb3J0IHNvcnQgZnJvbSAnaXQtc29ydCc7XG5pbXBvcnQgdGFrZSBmcm9tICdpdC10YWtlJztcbmV4cG9ydCBjbGFzcyBCYXNlRGF0YXN0b3JlIHtcbiAgICBwdXQoa2V5LCB2YWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignLnB1dCBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG4gICAgfVxuICAgIGdldChrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignLmdldCBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG4gICAgfVxuICAgIGhhcyhrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignLmhhcyBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignLmRlbGV0ZSBpcyBub3QgaW1wbGVtZW50ZWQnKSk7XG4gICAgfVxuICAgIGFzeW5jICpwdXRNYW55KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgeyBrZXksIHZhbHVlIH0gb2Ygc291cmNlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnB1dChrZXksIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHlpZWxkIGtleTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyAqZ2V0TWFueShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGtleSBvZiBzb3VyY2UpIHtcbiAgICAgICAgICAgIHlpZWxkIHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGF3YWl0IHRoaXMuZ2V0KGtleSwgb3B0aW9ucylcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgKmRlbGV0ZU1hbnkoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBrZXkgb2Ygc291cmNlKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZShrZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgeWllbGQga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIGJhdGNoKCkge1xuICAgICAgICBsZXQgcHV0cyA9IFtdO1xuICAgICAgICBsZXQgZGVscyA9IFtdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHV0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwdXRzLnB1c2goeyBrZXksIHZhbHVlIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgICAgICAgICBkZWxzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21taXQ6IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZHJhaW4odGhpcy5wdXRNYW55KHB1dHMsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBwdXRzID0gW107XG4gICAgICAgICAgICAgICAgYXdhaXQgZHJhaW4odGhpcy5kZWxldGVNYW55KGRlbHMsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICBkZWxzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBvdmVycmlkZSBgcXVlcnlgIG9yIGltcGxlbWVudCB0aGlzIG1ldGhvZFxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLXlpZWxkXG4gICAgYXN5bmMgKl9hbGwocSwgb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJy5fYWxsIGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgYHF1ZXJ5S2V5c2Agb3IgaW1wbGVtZW50IHRoaXMgbWV0aG9kXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUteWllbGRcbiAgICBhc3luYyAqX2FsbEtleXMocSwgb3B0aW9ucykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJy5fYWxsS2V5cyBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgcXVlcnkocSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgaXQgPSB0aGlzLl9hbGwocSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChxLnByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSBxLnByZWZpeDtcbiAgICAgICAgICAgIGl0ID0gZmlsdGVyKGl0LCAoZSkgPT4gZS5rZXkudG9TdHJpbmcoKS5zdGFydHNXaXRoKHByZWZpeCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHEuZmlsdGVycykpIHtcbiAgICAgICAgICAgIGl0ID0gcS5maWx0ZXJzLnJlZHVjZSgoaXQsIGYpID0+IGZpbHRlcihpdCwgZiksIGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShxLm9yZGVycykpIHtcbiAgICAgICAgICAgIGl0ID0gcS5vcmRlcnMucmVkdWNlKChpdCwgZikgPT4gc29ydChpdCwgZiksIGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocS5vZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcS5vZmZzZXQ7XG4gICAgICAgICAgICBpdCA9IGZpbHRlcihpdCwgKCkgPT4gaSsrID49IG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHEubGltaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaXQgPSB0YWtlKGl0LCBxLmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXQ7XG4gICAgfVxuICAgIHF1ZXJ5S2V5cyhxLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBpdCA9IHRoaXMuX2FsbEtleXMocSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChxLnByZWZpeCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVmaXggPSBxLnByZWZpeDtcbiAgICAgICAgICAgIGl0ID0gZmlsdGVyKGl0LCAoa2V5KSA9PiBrZXkudG9TdHJpbmcoKS5zdGFydHNXaXRoKHByZWZpeCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHEuZmlsdGVycykpIHtcbiAgICAgICAgICAgIGl0ID0gcS5maWx0ZXJzLnJlZHVjZSgoaXQsIGYpID0+IGZpbHRlcihpdCwgZiksIGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShxLm9yZGVycykpIHtcbiAgICAgICAgICAgIGl0ID0gcS5vcmRlcnMucmVkdWNlKChpdCwgZikgPT4gc29ydChpdCwgZiksIGl0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocS5vZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcS5vZmZzZXQ7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBpdCA9IGZpbHRlcihpdCwgKCkgPT4gaSsrID49IG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHEubGltaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaXQgPSB0YWtlKGl0LCBxLmxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXQ7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOlsiZHJhaW4iLCJmaWx0ZXIiLCJzb3J0IiwidGFrZSIsIkJhc2VEYXRhc3RvcmUiLCJwdXQiLCJrZXkiLCJ2YWwiLCJvcHRpb25zIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiZ2V0IiwiaGFzIiwiZGVsZXRlIiwicHV0TWFueSIsInNvdXJjZSIsInZhbHVlIiwiZ2V0TWFueSIsImRlbGV0ZU1hbnkiLCJiYXRjaCIsInB1dHMiLCJkZWxzIiwicHVzaCIsImNvbW1pdCIsIl9hbGwiLCJxIiwiX2FsbEtleXMiLCJxdWVyeSIsIml0IiwicHJlZml4IiwiZSIsInRvU3RyaW5nIiwic3RhcnRzV2l0aCIsIkFycmF5IiwiaXNBcnJheSIsImZpbHRlcnMiLCJyZWR1Y2UiLCJmIiwib3JkZXJzIiwib2Zmc2V0IiwiaSIsImxpbWl0IiwicXVlcnlLZXlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/datastore-core/dist/src/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/datastore-core/dist/src/errors.js":
/*!********************************************************!*\
  !*** ./node_modules/datastore-core/dist/src/errors.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   abortedError: () => (/* binding */ abortedError),\n/* harmony export */   dbDeleteFailedError: () => (/* binding */ dbDeleteFailedError),\n/* harmony export */   dbOpenFailedError: () => (/* binding */ dbOpenFailedError),\n/* harmony export */   dbReadFailedError: () => (/* binding */ dbReadFailedError),\n/* harmony export */   dbWriteFailedError: () => (/* binding */ dbWriteFailedError),\n/* harmony export */   notFoundError: () => (/* binding */ notFoundError)\n/* harmony export */ });\n/* harmony import */ var err_code__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! err-code */ \"(ssr)/./node_modules/err-code/index.js\");\n\nfunction dbOpenFailedError(err) {\n    err = err ?? new Error(\"Cannot open database\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_DB_OPEN_FAILED\");\n}\nfunction dbDeleteFailedError(err) {\n    err = err ?? new Error(\"Delete failed\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_DB_DELETE_FAILED\");\n}\nfunction dbWriteFailedError(err) {\n    err = err ?? new Error(\"Write failed\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_DB_WRITE_FAILED\");\n}\nfunction dbReadFailedError(err) {\n    err = err ?? new Error(\"Read failed\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_DB_READ_FAILED\");\n}\nfunction notFoundError(err) {\n    err = err ?? new Error(\"Not Found\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_NOT_FOUND\");\n}\nfunction abortedError(err) {\n    err = err ?? new Error(\"Aborted\");\n    return err_code__WEBPACK_IMPORTED_MODULE_0__(err, \"ERR_ABORTED\");\n} //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGF0YXN0b3JlLWNvcmUvZGlzdC9zcmMvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0I7QUFDeEIsU0FBU0Msa0JBQWtCQyxHQUFHO0lBQ2pDQSxNQUFNQSxPQUFPLElBQUlDLE1BQU07SUFDdkIsT0FBT0gscUNBQU9BLENBQUNFLEtBQUs7QUFDeEI7QUFDTyxTQUFTRSxvQkFBb0JGLEdBQUc7SUFDbkNBLE1BQU1BLE9BQU8sSUFBSUMsTUFBTTtJQUN2QixPQUFPSCxxQ0FBT0EsQ0FBQ0UsS0FBSztBQUN4QjtBQUNPLFNBQVNHLG1CQUFtQkgsR0FBRztJQUNsQ0EsTUFBTUEsT0FBTyxJQUFJQyxNQUFNO0lBQ3ZCLE9BQU9ILHFDQUFPQSxDQUFDRSxLQUFLO0FBQ3hCO0FBQ08sU0FBU0ksa0JBQWtCSixHQUFHO0lBQ2pDQSxNQUFNQSxPQUFPLElBQUlDLE1BQU07SUFDdkIsT0FBT0gscUNBQU9BLENBQUNFLEtBQUs7QUFDeEI7QUFDTyxTQUFTSyxjQUFjTCxHQUFHO0lBQzdCQSxNQUFNQSxPQUFPLElBQUlDLE1BQU07SUFDdkIsT0FBT0gscUNBQU9BLENBQUNFLEtBQUs7QUFDeEI7QUFDTyxTQUFTTSxhQUFhTixHQUFHO0lBQzVCQSxNQUFNQSxPQUFPLElBQUlDLE1BQU07SUFDdkIsT0FBT0gscUNBQU9BLENBQUNFLEtBQUs7QUFDeEIsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbHVzaC1ub3Rlcy8uL25vZGVfbW9kdWxlcy9kYXRhc3RvcmUtY29yZS9kaXN0L3NyYy9lcnJvcnMuanM/NTc3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXJyQ29kZSBmcm9tICdlcnItY29kZSc7XG5leHBvcnQgZnVuY3Rpb24gZGJPcGVuRmFpbGVkRXJyb3IoZXJyKSB7XG4gICAgZXJyID0gZXJyID8/IG5ldyBFcnJvcignQ2Fubm90IG9wZW4gZGF0YWJhc2UnKTtcbiAgICByZXR1cm4gZXJyQ29kZShlcnIsICdFUlJfREJfT1BFTl9GQUlMRUQnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkYkRlbGV0ZUZhaWxlZEVycm9yKGVycikge1xuICAgIGVyciA9IGVyciA/PyBuZXcgRXJyb3IoJ0RlbGV0ZSBmYWlsZWQnKTtcbiAgICByZXR1cm4gZXJyQ29kZShlcnIsICdFUlJfREJfREVMRVRFX0ZBSUxFRCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRiV3JpdGVGYWlsZWRFcnJvcihlcnIpIHtcbiAgICBlcnIgPSBlcnIgPz8gbmV3IEVycm9yKCdXcml0ZSBmYWlsZWQnKTtcbiAgICByZXR1cm4gZXJyQ29kZShlcnIsICdFUlJfREJfV1JJVEVfRkFJTEVEJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGJSZWFkRmFpbGVkRXJyb3IoZXJyKSB7XG4gICAgZXJyID0gZXJyID8/IG5ldyBFcnJvcignUmVhZCBmYWlsZWQnKTtcbiAgICByZXR1cm4gZXJyQ29kZShlcnIsICdFUlJfREJfUkVBRF9GQUlMRUQnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3RGb3VuZEVycm9yKGVycikge1xuICAgIGVyciA9IGVyciA/PyBuZXcgRXJyb3IoJ05vdCBGb3VuZCcpO1xuICAgIHJldHVybiBlcnJDb2RlKGVyciwgJ0VSUl9OT1RfRk9VTkQnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhYm9ydGVkRXJyb3IoZXJyKSB7XG4gICAgZXJyID0gZXJyID8/IG5ldyBFcnJvcignQWJvcnRlZCcpO1xuICAgIHJldHVybiBlcnJDb2RlKGVyciwgJ0VSUl9BQk9SVEVEJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIl0sIm5hbWVzIjpbImVyckNvZGUiLCJkYk9wZW5GYWlsZWRFcnJvciIsImVyciIsIkVycm9yIiwiZGJEZWxldGVGYWlsZWRFcnJvciIsImRiV3JpdGVGYWlsZWRFcnJvciIsImRiUmVhZEZhaWxlZEVycm9yIiwibm90Rm91bmRFcnJvciIsImFib3J0ZWRFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/datastore-core/dist/src/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/datastore-core/dist/src/memory.js":
/*!********************************************************!*\
  !*** ./node_modules/datastore-core/dist/src/memory.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemoryDatastore: () => (/* binding */ MemoryDatastore)\n/* harmony export */ });\n/* harmony import */ var interface_datastore_key__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! interface-datastore/key */ \"(ssr)/./node_modules/interface-datastore/dist/src/key.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"(ssr)/./node_modules/datastore-core/dist/src/base.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/datastore-core/dist/src/errors.js\");\n\n\n\nclass MemoryDatastore extends _base_js__WEBPACK_IMPORTED_MODULE_1__.BaseDatastore {\n    constructor(){\n        super();\n        this.data = new Map();\n    }\n    put(key, val) {\n        this.data.set(key.toString(), val);\n        return key;\n    }\n    get(key) {\n        const result = this.data.get(key.toString());\n        if (result == null) {\n            throw _errors_js__WEBPACK_IMPORTED_MODULE_2__.notFoundError();\n        }\n        return result;\n    }\n    has(key) {\n        return this.data.has(key.toString());\n    }\n    delete(key) {\n        this.data.delete(key.toString());\n    }\n    *_all() {\n        for (const [key, value] of this.data.entries()){\n            yield {\n                key: new interface_datastore_key__WEBPACK_IMPORTED_MODULE_0__.Key(key),\n                value\n            };\n        }\n    }\n    *_allKeys() {\n        for (const key of this.data.keys()){\n            yield new interface_datastore_key__WEBPACK_IMPORTED_MODULE_0__.Key(key);\n        }\n    }\n} //# sourceMappingURL=memory.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZGF0YXN0b3JlLWNvcmUvZGlzdC9zcmMvbWVtb3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDSjtBQUNKO0FBQy9CLE1BQU1HLHdCQUF3QkYsbURBQWFBO0lBRTlDRyxhQUFjO1FBQ1YsS0FBSztRQUNMLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUlDO0lBQ3BCO0lBQ0FDLElBQUlDLEdBQUcsRUFBRUMsR0FBRyxFQUFFO1FBQ1YsSUFBSSxDQUFDSixJQUFJLENBQUNLLEdBQUcsQ0FBQ0YsSUFBSUcsUUFBUSxJQUFJRjtRQUM5QixPQUFPRDtJQUNYO0lBQ0FJLElBQUlKLEdBQUcsRUFBRTtRQUNMLE1BQU1LLFNBQVMsSUFBSSxDQUFDUixJQUFJLENBQUNPLEdBQUcsQ0FBQ0osSUFBSUcsUUFBUTtRQUN6QyxJQUFJRSxVQUFVLE1BQU07WUFDaEIsTUFBTVgscURBQW9CO1FBQzlCO1FBQ0EsT0FBT1c7SUFDWDtJQUNBRSxJQUFJUCxHQUFHLEVBQUU7UUFDTCxPQUFPLElBQUksQ0FBQ0gsSUFBSSxDQUFDVSxHQUFHLENBQUNQLElBQUlHLFFBQVE7SUFDckM7SUFDQUssT0FBT1IsR0FBRyxFQUFFO1FBQ1IsSUFBSSxDQUFDSCxJQUFJLENBQUNXLE1BQU0sQ0FBQ1IsSUFBSUcsUUFBUTtJQUNqQztJQUNBLENBQUNNLE9BQU87UUFDSixLQUFLLE1BQU0sQ0FBQ1QsS0FBS1UsTUFBTSxJQUFJLElBQUksQ0FBQ2IsSUFBSSxDQUFDYyxPQUFPLEdBQUk7WUFDNUMsTUFBTTtnQkFBRVgsS0FBSyxJQUFJUix3REFBR0EsQ0FBQ1E7Z0JBQU1VO1lBQU07UUFDckM7SUFDSjtJQUNBLENBQUNFLFdBQVc7UUFDUixLQUFLLE1BQU1aLE9BQU8sSUFBSSxDQUFDSCxJQUFJLENBQUNnQixJQUFJLEdBQUk7WUFDaEMsTUFBTSxJQUFJckIsd0RBQUdBLENBQUNRO1FBQ2xCO0lBQ0o7QUFDSixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZsdXNoLW5vdGVzLy4vbm9kZV9tb2R1bGVzL2RhdGFzdG9yZS1jb3JlL2Rpc3Qvc3JjL21lbW9yeS5qcz8wNGUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEtleSB9IGZyb20gJ2ludGVyZmFjZS1kYXRhc3RvcmUva2V5JztcbmltcG9ydCB7IEJhc2VEYXRhc3RvcmUgfSBmcm9tICcuL2Jhc2UuanMnO1xuaW1wb3J0ICogYXMgRXJyb3JzIGZyb20gJy4vZXJyb3JzLmpzJztcbmV4cG9ydCBjbGFzcyBNZW1vcnlEYXRhc3RvcmUgZXh0ZW5kcyBCYXNlRGF0YXN0b3JlIHtcbiAgICBkYXRhO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHB1dChrZXksIHZhbCkge1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGtleS50b1N0cmluZygpLCB2YWwpO1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZGF0YS5nZXQoa2V5LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9ycy5ub3RGb3VuZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhcyhrZXkudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgdGhpcy5kYXRhLmRlbGV0ZShrZXkudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgICpfYWxsKCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLmRhdGEuZW50cmllcygpKSB7XG4gICAgICAgICAgICB5aWVsZCB7IGtleTogbmV3IEtleShrZXkpLCB2YWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgICpfYWxsS2V5cygpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5kYXRhLmtleXMoKSkge1xuICAgICAgICAgICAgeWllbGQgbmV3IEtleShrZXkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVtb3J5LmpzLm1hcCJdLCJuYW1lcyI6WyJLZXkiLCJCYXNlRGF0YXN0b3JlIiwiRXJyb3JzIiwiTWVtb3J5RGF0YXN0b3JlIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiTWFwIiwicHV0Iiwia2V5IiwidmFsIiwic2V0IiwidG9TdHJpbmciLCJnZXQiLCJyZXN1bHQiLCJub3RGb3VuZEVycm9yIiwiaGFzIiwiZGVsZXRlIiwiX2FsbCIsInZhbHVlIiwiZW50cmllcyIsIl9hbGxLZXlzIiwia2V5cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/datastore-core/dist/src/memory.js\n");

/***/ })

};
;